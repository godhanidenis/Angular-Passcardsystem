
<div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Monitor IN / OUT</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <a href="" ng-click="exportAsXls()">Export XLS</a>
          <table class="table table-bordered monitortable">
            <thead>                  
              <tr>
                <th>Guest Name</th>
                          <th width="200px">Validity</th>
                          <!-- <th>Guests</th> -->
                          <th>Type</th>
                          <th>Timestamp</th>
                          <th>Override note</th>
                          <th>Subscriber</th>
                          <th>Location</th>
                          <th>Agent</th>
                          <th width="90px">Status</th>
              </tr>
            </thead>
            <tbody>
                <td><input ng-model="searchtxt.inout_pass.name" type="text" class="form-control" placeholder="Filter"></td>
                    <td>
                      <!-- <input ng-model="searchtxt.connection.timedate" type="text" class="form-control" placeholder="Filter"> -->
                    </td>
                    <!-- <td></td> -->
                    <td><select ng-model="searchtxt.inout_pass.visitor_type.visitor_type" class="custom-select">
                        <option ng-value="vt.visitor_type" ng-repeat="vt in visitortypes">{{vt.visitor_type}}</option>
                      </select></td>
                      <td></td>
                      <td></td>
                    <td>
                      <!-- <input ng-model="searchtxt.resident.name" type="text" class="form-control" placeholder="Filter"> -->
                    </td>
                    <td><input ng-model="searchtxt.inout_pass.visitor_area.area_name" type="text" class="form-control" placeholder="Filter"></td>
                    <td>
                      <!-- <input ng-model="searchtxt.checkin_agent.name" type="text" class="form-control" placeholder="Filter"> -->
                      </td>
                    <td><input ng-model="searchtxt.inout_status.name" type="text" class="form-control" placeholder="Filter"></td>
                    
                    <tr ng-style="(vi.override) && {'background-color':'#ebe7c5'} || {'background-color': 'white'}" ng-repeat="vi in connections | filter:searchtxt | orderBy:['-inout_pass.checkin_date', '-inout_pass.checkout_date']" ng-if="vi.inout_status.name=='Check out' || vi.inout_status.name=='Check in'">
                      <td><p><span style="font-weight: 900; text-transform: uppercase;">{{vi.inout_pass.name}}</span></p><p>
                        <a class="badge badge-primary" style="color: #fff;" ng-click="setConToView(vi)" data-toggle="modal" data-target="#viewConModal">View</a></p>
                      </td>
                      <td><p>
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABwElEQVQ4jYWRv09TcRTFP/fb11dNQQwDiQOpBURNtQ4UHBzcrK9hZnXWKPwNLs7+2NiMcWFrTNrSxdlYFkgbUysigyQlMQE0sa39Xgfa+vp81bPde88599zvVwggtVF1W+e6niBZLNMAIuxb0XLsOFKsrqTafr74i0ubO8tYngEzQeMePgm6WvfShX7DDMTFnVUs+X+IAWYVeTNf2n44lKC3Oe83/A+sqC7Xc+mipDaqbnvc1oDZIEsAxwgdq2Emn90Tc8V0xrq5MDFA+vxZ3t6+TO7CRNg42RrTrFEjd0bldI1hKubw9MY0r5aSzMRjgYg266Ak+vXLxYuMRyODeTzy50luTsbJ35rjRaPJ+u7hqV4lYYDQA8MggCNDDXUEvvQd7r3fGxIsTsZ5vZQE4N23HzyufaXxvTWYK7rvWNGyqDwI29i2lmbrF08+HFA4OPo7kZGSLFQq0ePDWA2YC408+ht33RNz1WxlMh1B1wAbZCiMEndVuV9dSbUNQN1LF0TCTUJgRWStkbte7qccYL6w7anI87BzepE+qsijhndt03/mEBYqlehR88xdxGZFJXGqkz2gPDH1s7SVyXT8/N8jqpvoQ6v3YgAAAABJRU5ErkJggg=="/> 
                        {{vi.inout_pass.timedatefrom | date :  "dd.MM.y HH:mm"}}</p><p>
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABv0lEQVQ4jY2Sv2tTcRTFP/ebl4RKsT9AaFI02HRQIjh0FcHFWFP8DxxcKg4muArKs4KrKLp0Kx2dFGlrtq5CJ0kXadJ0qHFJ6u/40nyvQ9LXx+tL8Gz3cu75nnPvVwih4uYS4/bvvGDzqpwFwLCHmvKBSa7n3IoX5EuwaLgzC9bqC5CZsHAfO2Ioptzq2gmB/UfZIqLPATNg+AhWVUvTT2uvfIHey7z9j2FfRJCF1NLOulTcXGLC/tkGsmGWxOKoPQTVKJFay4xcMBO0b0YNj1wqcObBJvHpy4NcnB+3v/MOVq8Hu7HJc4wVnpCcvdp3kRiSRPIOSuZolaNX7jJ6rYQ4SZ8ydusZ6v06Dt/+TnPldq9QMgbhOGDMIXTZoTCCOirUpS/xc/M17U/vOV1w/Qjf3j3Eq3+MFLCwZ1BTDjYPm3Waq3c4eFOk++Mr2vUihwFihg3Rxbl4Y6q1rTAbJgw/o1Zb5tRFI8tbHQylnqMQpdsZ9Ae6GO7l3IpnAFJudU1VI0UiYAUtpd1aGUIr//I4Ow/6MipOH5/B3k8v7X7wY56wvTgX359q3gDJo2QAjJFdq7acbkxuyPJWJ8j/B0bVqA0JmHvzAAAAAElFTkSuQmCC">
                        {{vi.inout_pass.timedateto | date :  "dd.MM.y HH:mm"}}</p></td>
                      <!-- <td>{{vi.connection.number_of_guests}}</td> -->
                      <td>{{vi.inout_pass.visitor_type.visitor_type}}</td>

                      <td>
                        <span ng-if="vi.checkout_agent != null">{{vi.checkout_date | date :  "dd.MM.y HH:mm"}}</span>
                        <span ng-if="vi.checkout_agent == null">{{vi.checkin_date | date :  "dd.MM.y HH:mm"}}</span>
                      </td>

                      <td>{{vi.inout_pass.overrides_note}}</td>


                      <td ng-if="vi.inout_pass.user != null"><p><span style="font-weight: 900; text-transform: uppercase;">{{vi.inout_pass.visitor_user.name}}</span> / <a href="tel:{{vi.inout_pass.visitor_user.phone}}">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABmJLR0QA/wD/AP+gvaeTAAACEElEQVQ4jdXUT0jTYRzH8fd3+21rPzF1lbr5h5LIDlG5/pibRF6CDhWIHqIIYpTUQehY1K3o5LHAEsOgQ1LQoa4pZNrEwoqkIBlMsPKgSbG1+m3fDu431l/cOkSf0/M834fX8/z4Pc8D/0skvxPo7TVxmnshfRAV00wuHn3T3Z0qFDXsRvOjZx2p5Mfzc7HpzfZaSW/5ONBTKOqwGyoacZeUbjJcnlxR0bP1V25WFI2KyoCoOlauXpNf91ku60zRqPfL/G0gZvpWqcuzIn9OsGh0uK3NUvScgFT4A1Z2+DXO9LFC0e/+PqrSPDY5DLL7w/vZVGL+bcNMJDJb9E6XlhDFoSeBRFmVX6o3BisLBX9Ggeiu4BRwWhC3Q+TetpGJ+r9GAaKhrVdVtQ+ocTmM+60Pnxd0rOR3hc7BQWe8dsMg0A5MWRlr35PW7XGAQH9/HZZzAGHC+Gpcip86vLAsFKBldNSbxrwlsB9lJoMeePfq6Vw6YzwAGrPT5kW56P28eNm+0r/8fDtjoVDSTC20q2ofQp0IUbOiOpYHAvhU6El4y27YA39EYen8joebjovqCUGs8uoad+XaBuuHCwKiiWWjdh6Hm67hyOxAGfGUlBpV6xvV568l91ao3M35y0VzUZWdY5OHBLkArAM0lfj0Ym76ZctsV1eiODSbPUNDRtLt60D0CCrXo+Etd4q1/l2+AaHDrRzfe0T4AAAAAElFTkSuQmCC"/> 
                        {{vi.inout_pass.visitor_user.phone}}</a></p>
                        <!--<span style="display: inline-block; width: 10px;"></span>-->
                      <p><a href="mailto:{{vi.inout_pass.visitor_user.email}}">
                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABmJLR0QA/wD/AP+gvaeTAAAE7ElEQVQ4jZ1Ua0xTZxh+ek57SqEXKG0p91JQLgoK6iZscSwzczpjgqaaTCduOmecLkgGm5vZTqK7amYc4oQwdcZlGZg53X5sioLAAAeC4AW5KFAQSlsuvZwe25727MfUVUWX7P35vM/zfO/7vd/7CfCUWFF8WpaUHJUnlQapJZRI4fL4nSzDWkw25vcTOxaNPkknmA4sPNb2ki46fLtKJc2OigjTEMS/NJ7nYbbYHRaro804MlF563R3WVXVat8TTXPpGuHiDO2huRm6dSESSnKr39zpYNhmp9Mz7ON8rJAig4IoKlIqFWcl6tTzhUJS2HljqLqne+yd0m3P9jxW3ebNraIvf+37rfaOn//pyuTQrh86dxgMleSTWiw+enllRcNIW52J5482jV1/+3DzjMdIe37uKq8d8fM/Xrb2FR5pzwnMbdpbl7G9tGnl+s+qwwPx9Qerw0vODtTWmXj+0IWhJgNdSQGAEAAKyluWZs1JyLc77jo7uoaLvn4zsxEAio63L9PFqnbFRYUvkMrEQpPJbtFoWk8mz4zKGx2bqvvYkLZG8U3zOnloyLm0lOiFZuusj6qATwgA0OtUW6QhYqqvb+zMF+vmngKA94+1v5ozL/H79NSYbCfDWvv6zW3iIJJcME+/IXlmpFYmC7YDQMm7C4d7ekdLeZ5HdKRyFU3TBLGi+LRMpVJkuxg31907UgYABrqSSkyM+DQ8XKbquGa8cL6ufe5bz0XOq2/sXiogSAYAOJ/Pfv8aenpvlg8NW2/r4lSpVs2SJYQ+JWp5pFahvmOaullWkFMPAEn6Gfkz9BFzLOMOW3fXnYKKgsVjALB/04K/xiftLQDg8XAPTKvo1R6Xy3tdLBYSitCQVEIeItGSBAGPhxsABDwAqDXyLJIkYDROnDu4Pedq4HD8frAA4GK9tkDcc6/yIIlITogpkRwAvJzvAYkSUREAYLMx/Y++EpIkQgGAdXnsgbhISCoBwM1yDsLn87sBgCQEovsE3u8nAcAv4McDhQa6kgqiRPFerw+sx/1gTbd82xitDA3OdDjuei0m20WCcXpsAECQ/5wEAAzDjgNAqEySHGiq1yVtjI8PT+T9PMBx3vt4nFpZHKkN0/YbrfVlhc+3EqMj9vMTNoaVhohnG3ZUSgDAwbiv+P084uLVy4uOtL0AAAWHL2WnpcUUGI3jrIgSIixMngkAH5zo2JqeEZNvm2KZocHxr4B7u3/44nBTSlLUwvO114t2r03fl0vXBK3JTaqflRIzf2LCOWWdZAbUSqme43y+hubeMyuWZebb7OyEddw5Eh+nTOW8fu5Sa98ees3sPQBAAkDmy/myBJ3mFVJIxmrT8n45uXPRZEL22nrW5YnmOJ9SJBQET0wyN272mj5sGZzaJ/ZxakKACJIkpGazo/1q1zC9+7X00ocmmkvXCA/c2+GD1caabSUNUY9O/X/FtpJLCRUNo9fqTDx/pHHs6s7jHRsBftr/FgA2fF6jK/yuZdV0uYdEmw80xKUmR1dkzIpdDAD9g+ZOh9N9mXF5Bjkv5wIPjSRYpJCGSBK1EfJnxizOP7e+GL30qaYAQNM04dbnvREbq1yrUsqyIjRyhUDwMI3jfDBb7Lf7ByynduYlv/efpoHx+t4/NOow9XK5TKQUUyK5h/MzrNvrYOx3B91XyLPl5fO90+n+Bnj1JdCPjO1wAAAAAElFTkSuQmCC"/>
                        {{vi.inout_pass.visitor_user.email}}</a></p>
                      </td>


                      <td ng-if="vi.inout_pass.resident != null"><p><span style="font-weight: 900; text-transform: uppercase;">{{vi.inout_pass.visitor_resident.name}}</span> / <a href="tel:{{vi.inout_pass.visitor_resident.phone}}">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABmJLR0QA/wD/AP+gvaeTAAACEElEQVQ4jdXUT0jTYRzH8fd3+21rPzF1lbr5h5LIDlG5/pibRF6CDhWIHqIIYpTUQehY1K3o5LHAEsOgQ1LQoa4pZNrEwoqkIBlMsPKgSbG1+m3fDu431l/cOkSf0/M834fX8/z4Pc8D/0skvxPo7TVxmnshfRAV00wuHn3T3Z0qFDXsRvOjZx2p5Mfzc7HpzfZaSW/5ONBTKOqwGyoacZeUbjJcnlxR0bP1V25WFI2KyoCoOlauXpNf91ku60zRqPfL/G0gZvpWqcuzIn9OsGh0uK3NUvScgFT4A1Z2+DXO9LFC0e/+PqrSPDY5DLL7w/vZVGL+bcNMJDJb9E6XlhDFoSeBRFmVX6o3BisLBX9Ggeiu4BRwWhC3Q+TetpGJ+r9GAaKhrVdVtQ+ocTmM+60Pnxd0rOR3hc7BQWe8dsMg0A5MWRlr35PW7XGAQH9/HZZzAGHC+Gpcip86vLAsFKBldNSbxrwlsB9lJoMeePfq6Vw6YzwAGrPT5kW56P28eNm+0r/8fDtjoVDSTC20q2ofQp0IUbOiOpYHAvhU6El4y27YA39EYen8joebjovqCUGs8uoad+XaBuuHCwKiiWWjdh6Hm67hyOxAGfGUlBpV6xvV568l91ao3M35y0VzUZWdY5OHBLkArAM0lfj0Ym76ZctsV1eiODSbPUNDRtLt60D0CCrXo+Etd4q1/l2+AaHDrRzfe0T4AAAAAElFTkSuQmCC"/> 
                        {{vi.inout_pass.visitor_resident.phone}}</a></p>
                        <!--<span style="display: inline-block; width: 10px;"></span>-->
                      <p><a href="mailto:{{vi.inout_pass.visitor_resident.email}}">
                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAABmJLR0QA/wD/AP+gvaeTAAAE7ElEQVQ4jZ1Ua0xTZxh+ek57SqEXKG0p91JQLgoK6iZscSwzczpjgqaaTCduOmecLkgGm5vZTqK7amYc4oQwdcZlGZg53X5sioLAAAeC4AW5KFAQSlsuvZwe25727MfUVUWX7P35vM/zfO/7vd/7CfCUWFF8WpaUHJUnlQapJZRI4fL4nSzDWkw25vcTOxaNPkknmA4sPNb2ki46fLtKJc2OigjTEMS/NJ7nYbbYHRaro804MlF563R3WVXVat8TTXPpGuHiDO2huRm6dSESSnKr39zpYNhmp9Mz7ON8rJAig4IoKlIqFWcl6tTzhUJS2HljqLqne+yd0m3P9jxW3ebNraIvf+37rfaOn//pyuTQrh86dxgMleSTWiw+enllRcNIW52J5482jV1/+3DzjMdIe37uKq8d8fM/Xrb2FR5pzwnMbdpbl7G9tGnl+s+qwwPx9Qerw0vODtTWmXj+0IWhJgNdSQGAEAAKyluWZs1JyLc77jo7uoaLvn4zsxEAio63L9PFqnbFRYUvkMrEQpPJbtFoWk8mz4zKGx2bqvvYkLZG8U3zOnloyLm0lOiFZuusj6qATwgA0OtUW6QhYqqvb+zMF+vmngKA94+1v5ozL/H79NSYbCfDWvv6zW3iIJJcME+/IXlmpFYmC7YDQMm7C4d7ekdLeZ5HdKRyFU3TBLGi+LRMpVJkuxg31907UgYABrqSSkyM+DQ8XKbquGa8cL6ufe5bz0XOq2/sXiogSAYAOJ/Pfv8aenpvlg8NW2/r4lSpVs2SJYQ+JWp5pFahvmOaullWkFMPAEn6Gfkz9BFzLOMOW3fXnYKKgsVjALB/04K/xiftLQDg8XAPTKvo1R6Xy3tdLBYSitCQVEIeItGSBAGPhxsABDwAqDXyLJIkYDROnDu4Pedq4HD8frAA4GK9tkDcc6/yIIlITogpkRwAvJzvAYkSUREAYLMx/Y++EpIkQgGAdXnsgbhISCoBwM1yDsLn87sBgCQEovsE3u8nAcAv4McDhQa6kgqiRPFerw+sx/1gTbd82xitDA3OdDjuei0m20WCcXpsAECQ/5wEAAzDjgNAqEySHGiq1yVtjI8PT+T9PMBx3vt4nFpZHKkN0/YbrfVlhc+3EqMj9vMTNoaVhohnG3ZUSgDAwbiv+P084uLVy4uOtL0AAAWHL2WnpcUUGI3jrIgSIixMngkAH5zo2JqeEZNvm2KZocHxr4B7u3/44nBTSlLUwvO114t2r03fl0vXBK3JTaqflRIzf2LCOWWdZAbUSqme43y+hubeMyuWZebb7OyEddw5Eh+nTOW8fu5Sa98ees3sPQBAAkDmy/myBJ3mFVJIxmrT8n45uXPRZEL22nrW5YnmOJ9SJBQET0wyN272mj5sGZzaJ/ZxakKACJIkpGazo/1q1zC9+7X00ocmmkvXCA/c2+GD1caabSUNUY9O/X/FtpJLCRUNo9fqTDx/pHHs6s7jHRsBftr/FgA2fF6jK/yuZdV0uYdEmw80xKUmR1dkzIpdDAD9g+ZOh9N9mXF5Bjkv5wIPjSRYpJCGSBK1EfJnxizOP7e+GL30qaYAQNM04dbnvREbq1yrUsqyIjRyhUDwMI3jfDBb7Lf7ByynduYlv/efpoHx+t4/NOow9XK5TKQUUyK5h/MzrNvrYOx3B91XyLPl5fO90+n+Bnj1JdCPjO1wAAAAAElFTkSuQmCC"/>
                        {{vi.inout_pass.visitor_resident.email}}</a></p>
                      </td>



                      <td>
                        <!-- <p><span style="font-weight: 900; text-transform: uppercase;">
                        {{vi.resdat.name}}</span></p> -->
                        <p>{{vi.inout_pass.visitor_area.area_name}}</p></td>
                      <td>
                        
                        <span ng-if="vi.inout_checkout_agent.passcode != null"><span style="font-weight: 900; text-transform: uppercase;">{{vi.inout_checkout_agent.name}}</span><br>{{vi.inout_checkout_agent.passcode}}</span>
                        <span ng-if="vi.inout_checkout_agent.passcode == null"><span style="font-weight: 900; text-transform: uppercase;">{{vi.inout_checkin_agent.name}}</span><br>{{vi.inout_checkin_agent.passcode}}</span>

                      <td>
                        <span class="badge badge-default" style="font-size: 18px;" ng-if="vi.inout_checkout_agent.passcode != null">
                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABv0lEQVQ4jY2Sv2tTcRTFP/ebl4RKsT9AaFI02HRQIjh0FcHFWFP8DxxcKg4muArKs4KrKLp0Kx2dFGlrtq5CJ0kXadJ0qHFJ6u/40nyvQ9LXx+tL8Gz3cu75nnPvVwih4uYS4/bvvGDzqpwFwLCHmvKBSa7n3IoX5EuwaLgzC9bqC5CZsHAfO2Ioptzq2gmB/UfZIqLPATNg+AhWVUvTT2uvfIHey7z9j2FfRJCF1NLOulTcXGLC/tkGsmGWxOKoPQTVKJFay4xcMBO0b0YNj1wqcObBJvHpy4NcnB+3v/MOVq8Hu7HJc4wVnpCcvdp3kRiSRPIOSuZolaNX7jJ6rYQ4SZ8ydusZ6v06Dt/+TnPldq9QMgbhOGDMIXTZoTCCOirUpS/xc/M17U/vOV1w/Qjf3j3Eq3+MFLCwZ1BTDjYPm3Waq3c4eFOk++Mr2vUihwFihg3Rxbl4Y6q1rTAbJgw/o1Zb5tRFI8tbHQylnqMQpdsZ9Ae6GO7l3IpnAFJudU1VI0UiYAUtpd1aGUIr//I4Ow/6MipOH5/B3k8v7X7wY56wvTgX359q3gDJo2QAjJFdq7acbkxuyPJWJ8j/B0bVqA0JmHvzAAAAAElFTkSuQmCC">
                          OUT 
                          
                        </span>
                        <span class="badge badge-success" style="font-size: 18px;" ng-if="vi.inout_checkout_agent.passcode == null">
                          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABwElEQVQ4jYWRv09TcRTFP/fb11dNQQwDiQOpBURNtQ4UHBzcrK9hZnXWKPwNLs7+2NiMcWFrTNrSxdlYFkgbUysigyQlMQE0sa39Xgfa+vp81bPde88599zvVwggtVF1W+e6niBZLNMAIuxb0XLsOFKsrqTafr74i0ubO8tYngEzQeMePgm6WvfShX7DDMTFnVUs+X+IAWYVeTNf2n44lKC3Oe83/A+sqC7Xc+mipDaqbnvc1oDZIEsAxwgdq2Emn90Tc8V0xrq5MDFA+vxZ3t6+TO7CRNg42RrTrFEjd0bldI1hKubw9MY0r5aSzMRjgYg266Ak+vXLxYuMRyODeTzy50luTsbJ35rjRaPJ+u7hqV4lYYDQA8MggCNDDXUEvvQd7r3fGxIsTsZ5vZQE4N23HzyufaXxvTWYK7rvWNGyqDwI29i2lmbrF08+HFA4OPo7kZGSLFQq0ePDWA2YC408+ht33RNz1WxlMh1B1wAbZCiMEndVuV9dSbUNQN1LF0TCTUJgRWStkbte7qccYL6w7anI87BzepE+qsijhndt03/mEBYqlehR88xdxGZFJXGqkz2gPDH1s7SVyXT8/N8jqpvoQ6v3YgAAAABJRU5ErkJggg=="/>
                          IN 
                          
                        </span>
                      </td>
                     
                      <!-- <td><span ng-click="setConnection(vi)" class="badge bg-success" data-toggle="modal" data-target="#connectionModal">view</span> -->
                          <!-- <span class="badge bg-warning">remove</span></td> -->
                    </tr>
             
            </tbody>
          </table>
          
          
          
          
          
          
          
          
          
          <table class="table table-bordered"  id="exportable" style="opacity: 0; position: fixed; z-index: -1;">
            <thead>                  
              <tr>
                <th>Guest Name</th>
                          <th>From</th>
                          <th>To</th>
                          <th>Type</th>
                          <th>Timestamp IN</th>
                          <th>Timestamp OUT</th>
                          <th>Subscriber name</th>
                          <th>Subscriber phone</th>
                          <th>Subscriber email</th>
                          <th>Area name</th>
                          <th>Checkin Agent name</th>
                          <th>Checkin Agent number</th>
                          <th>Checkout Agent name</th>
                          <th>Checkout Agent number</th>
                          <th>Status</th>
              </tr>
            </thead>
            <tbody>
                
                    <tr ng-repeat="vi in connections | orderBy:'-inout_pass.timedatefrom'" ng-if="vi.inout_status.name=='Check out' || vi.inout_status.name=='Check in'">
                      <td>{{vi.inout_pass.name}}
                      </td>
                      <td>
                        {{vi.inout_pass.timedatefrom | date :  "dd.MM.y HH:mm"}}
                        </td>
                        <td>
                        {{vi.inout_pass.timedateto | date :  "dd.MM.y HH:mm"}}</p></td>
                 
                      <td>{{vi.inout_pass.visitor_type.visitor_type}}</td>

                      <td>
                        <span ng-if="vi.inout_checkin_agent != null">{{vi.checkin_date | date :  "dd.MM.y HH:mm"}}</span></td>
                        <td>
                        <span ng-if="vi.inout_checkin_agent == null">{{vi.checkout_date | date :  "dd.MM.y HH:mm"}}</span>
                      </td>



                      <td ng-if="vi.inout_pass.resident != null">{{vi.inout_pass.visitor_resident.name}}</td>
                      <td ng-if="vi.inout_pass.resident != null">{{vi.inout_pass.visitor_resident.phone}}</td>
                      <td ng-if="vi.inout_pass.resident != null">{{vi.inout_pass.visitor_resident.email}}</td>

                      <td ng-if="vi.inout_pass.user != null">{{vi.inout_pass.visitor_user.name}}</td>
                      <td ng-if="vi.inout_pass.user != null">{{vi.inout_pass.visitor_user.phone}}</td>
                      <td ng-if="vi.inout_pass.user != null">{{vi.inout_pass.visitor_user.email}}</td>
                      
                      <td>{{vi.inout_pass.visitor_area.area_name}}</td>
                      
                        <td>
                            <span ng-if="vi.checkout_agent == null">{{vi.inout_checkin_agent.name}}</span></td>
                            <td><span ng-if="vi.checkout_agent == null">{{vi.inout_checkin_agent.passcode}}</span>
                        </td>
                        
                        <td>
                        
                        <span ng-if="vi.checkout_agent != null">{{vi.inout_checkout_agent.name}}</td>
                        <td><span ng-if="vi.checkout_agent != null">{{vi.inout_checkout_agent.passcode}}</span></td>

                      <td>
                        <span ng-if="vi.checkout_agent != null">
                          
                          OUT 
                          
                        </span>
                        <span ng-if="vi.checkout_agent == null">                     
                          IN 
                          
                        </span>
                      </td>
                 
                    </tr>
             
            </tbody>
          </table>
          
          
          
        </div>
        <!-- /.card-body -->
      </div>
    </div>

  </div>

<!-- Modal -->
<!-- <div class="modal fade" id="modal-sm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        
        <div class="modal-body">
            <button type="button" class="btn btn-block btn-primary btn-xs">Change status</button>
            <button type="button" class="btn btn-block btn-primary btn-xs">Reject</button>
            <button type="button" class="btn btn-block btn-primary btn-xs">Approve</button>
        </div>
        
      </div>
    </div>
  </div> -->




  <!-- Visitor Modal -->
  <div id="viewConModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
  
          <div class="card card-widget widget-user-2">
          <ul class="nav flex-column">




            <div class="card card-widget widget-user-2">
              <!-- Add the bg color to the header using any of the bg-* classes -->
              <div class="widget-user-header ">
                <div class="widget-user-image">
                  <!-- <a style="width: 75px; height: 75px; display: block;" >
                    <img width="100%" class="img-circle elevation-2" src="" alt=""></a> -->
                </div>
                <!-- /.widget-user-image -->
                <h3 style="position: absolute;
                top: -5px; left: -60px;
                padding-left: 0px;" class="widget-user-username">{{conToV.inout_pass.name}}</h3>
              </div>
              <div class="card-footer p-0">
                <ul class="nav flex-column">
                  <li class="nav-item">
                    <a class="nav-link">
                      Vehicle/s: {{conToV.inout_pass.vehicle_number}}
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link">
                      Number of guests: {{conToV.inout_pass.number_of_guests}}
                    </a>
                  </li>

                  <li class="nav-item">
                    <a class="nav-link">
                      Type: {{conToV.inout_pass.visitor_type.visitor_type}}
                    </a>
                  </li>
     
                </ul>
              </div> 
            </div>




  
          </ul>
   
        </div>
  
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>